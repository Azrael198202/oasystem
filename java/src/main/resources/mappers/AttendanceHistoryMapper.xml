<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.demo.dao.AttendanceHistoryMapper">
  <resultMap id="BaseResultMap" type="com.demo.entity.AttendanceHistory">
    <constructor>
      <idArg column="company_code" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="user_id" javaType="java.lang.String" jdbcType="VARCHAR" />
      <idArg column="history_no" javaType="java.lang.String" jdbcType="VARCHAR" />
      <idArg column="work_date" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="work_date_ym" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="work_date_week" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="work_kbn" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="work_start1" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_end1" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_start2" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_end2" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_start3" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_end3" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_break_time1" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_break_time2" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_break_time3" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_over_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_midnight_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_holi_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_midnight_holi_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_sum_holi_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="work_sum_time" javaType="java.util.Date" jdbcType="TIME" />
      <arg column="remark" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="send_report_flg" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="work_tc_start1" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_tc_end1" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_tc_start2" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_tc_end2" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_tc_start3" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="work_tc_end3" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="del_flg" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="reg_account" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="reg_time" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="upd_account" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="upd_time" javaType="java.util.Date" jdbcType="TIMESTAMP" />
    </constructor>
  </resultMap>
  <sql id="Base_Column_List">
    company_code, user_id, history_no, work_date, work_date_ym, work_date_week, work_kbn, 
    work_start1, work_end1, work_start2, work_end2, work_start3, work_end3, work_time, 
    work_break_time1, work_break_time2, work_break_time3, work_over_time, work_midnight_time, 
    work_holi_time, work_midnight_holi_time, work_sum_holi_time, work_sum_time, remark, 
    send_report_flg, work_tc_start1, work_tc_end1, work_tc_start2, work_tc_end2, work_tc_start3, 
    work_tc_end3, del_flg, reg_account, reg_time, upd_account, upd_time
  </sql>
  <select id="selectByPrimaryKey" parameterType="map" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from t_attendance_history
    where company_code = #{companyCode,jdbcType=CHAR}
      and user_id = #{userId,jdbcType=VARCHAR}
      and history_no = #{historyNo,jdbcType=VARCHAR}
      and work_date = #{workDate,jdbcType=CHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="map">
    delete from t_attendance_history
    where company_code = #{companyCode,jdbcType=CHAR}
      and user_id = #{userId,jdbcType=VARCHAR}
      and history_no = #{historyNo,jdbcType=VARCHAR}
      and work_date = #{workDate,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="com.demo.entity.AttendanceHistory">
    insert into t_attendance_history (company_code, user_id, history_no, 
      work_date, work_date_ym, work_date_week, 
      work_kbn, work_start1, work_end1, 
      work_start2, work_end2, work_start3, 
      work_end3, work_time, work_break_time1, 
      work_break_time2, work_break_time3, work_over_time, 
      work_midnight_time, work_holi_time, work_midnight_holi_time, 
      work_sum_holi_time, work_sum_time, remark, 
      send_report_flg, work_tc_start1, work_tc_end1, 
      work_tc_start2, work_tc_end2, work_tc_start3, 
      work_tc_end3, del_flg, reg_account, 
      reg_time, upd_account, upd_time
      )
    values (#{companyCode,jdbcType=CHAR}, #{userId,jdbcType=VARCHAR}, #{historyNo,jdbcType=VARCHAR}, 
      #{workDate,jdbcType=CHAR}, #{workDateYm,jdbcType=CHAR}, #{workDateWeek,jdbcType=CHAR}, 
      #{workKbn,jdbcType=CHAR}, #{workStart1,jdbcType=TIMESTAMP}, #{workEnd1,jdbcType=TIMESTAMP}, 
      #{workStart2,jdbcType=TIMESTAMP}, #{workEnd2,jdbcType=TIMESTAMP}, #{workStart3,jdbcType=TIMESTAMP}, 
      #{workEnd3,jdbcType=TIMESTAMP}, #{workTime,jdbcType=TIME}, #{workBreakTime1,jdbcType=TIME}, 
      #{workBreakTime2,jdbcType=TIME}, #{workBreakTime3,jdbcType=TIME}, #{workOverTime,jdbcType=TIME}, 
      #{workMidnightTime,jdbcType=TIME}, #{workHoliTime,jdbcType=TIME}, #{workMidnightHoliTime,jdbcType=TIME}, 
      #{workSumHoliTime,jdbcType=TIME}, #{workSumTime,jdbcType=TIME}, #{remark,jdbcType=VARCHAR}, 
      #{sendReportFlg,jdbcType=CHAR}, #{workTcStart1,jdbcType=TIMESTAMP}, #{workTcEnd1,jdbcType=TIMESTAMP}, 
      #{workTcStart2,jdbcType=TIMESTAMP}, #{workTcEnd2,jdbcType=TIMESTAMP}, #{workTcStart3,jdbcType=TIMESTAMP}, 
      #{workTcEnd3,jdbcType=TIMESTAMP}, #{delFlg,jdbcType=CHAR}, #{regAccount,jdbcType=VARCHAR}, 
      #{regTime,jdbcType=TIMESTAMP}, #{updAccount,jdbcType=VARCHAR}, #{updTime,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.demo.entity.AttendanceHistory">
    insert into t_attendance_history
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="companyCode != null">
        company_code,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="historyNo != null">
        history_no,
      </if>
      <if test="workDate != null">
        work_date,
      </if>
      <if test="workDateYm != null">
        work_date_ym,
      </if>
      <if test="workDateWeek != null">
        work_date_week,
      </if>
      <if test="workKbn != null">
        work_kbn,
      </if>
      <if test="workStart1 != null">
        work_start1,
      </if>
      <if test="workEnd1 != null">
        work_end1,
      </if>
      <if test="workStart2 != null">
        work_start2,
      </if>
      <if test="workEnd2 != null">
        work_end2,
      </if>
      <if test="workStart3 != null">
        work_start3,
      </if>
      <if test="workEnd3 != null">
        work_end3,
      </if>
      <if test="workTime != null">
        work_time,
      </if>
      <if test="workBreakTime1 != null">
        work_break_time1,
      </if>
      <if test="workBreakTime2 != null">
        work_break_time2,
      </if>
      <if test="workBreakTime3 != null">
        work_break_time3,
      </if>
      <if test="workOverTime != null">
        work_over_time,
      </if>
      <if test="workMidnightTime != null">
        work_midnight_time,
      </if>
      <if test="workHoliTime != null">
        work_holi_time,
      </if>
      <if test="workMidnightHoliTime != null">
        work_midnight_holi_time,
      </if>
      <if test="workSumHoliTime != null">
        work_sum_holi_time,
      </if>
      <if test="workSumTime != null">
        work_sum_time,
      </if>
      <if test="remark != null">
        remark,
      </if>
      <if test="sendReportFlg != null">
        send_report_flg,
      </if>
      <if test="workTcStart1 != null">
        work_tc_start1,
      </if>
      <if test="workTcEnd1 != null">
        work_tc_end1,
      </if>
      <if test="workTcStart2 != null">
        work_tc_start2,
      </if>
      <if test="workTcEnd2 != null">
        work_tc_end2,
      </if>
      <if test="workTcStart3 != null">
        work_tc_start3,
      </if>
      <if test="workTcEnd3 != null">
        work_tc_end3,
      </if>
      <if test="delFlg != null">
        del_flg,
      </if>
      <if test="regAccount != null">
        reg_account,
      </if>
      <if test="regTime != null">
        reg_time,
      </if>
      <if test="updAccount != null">
        upd_account,
      </if>
      <if test="updTime != null">
        upd_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="companyCode != null">
        #{companyCode,jdbcType=CHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="historyNo != null">
        #{historyNo,jdbcType=VARCHAR},
      </if>
      <if test="workDate != null">
        #{workDate,jdbcType=CHAR},
      </if>
      <if test="workDateYm != null">
        #{workDateYm,jdbcType=CHAR},
      </if>
      <if test="workDateWeek != null">
        #{workDateWeek,jdbcType=CHAR},
      </if>
      <if test="workKbn != null">
        #{workKbn,jdbcType=CHAR},
      </if>
      <if test="workStart1 != null">
        #{workStart1,jdbcType=TIMESTAMP},
      </if>
      <if test="workEnd1 != null">
        #{workEnd1,jdbcType=TIMESTAMP},
      </if>
      <if test="workStart2 != null">
        #{workStart2,jdbcType=TIMESTAMP},
      </if>
      <if test="workEnd2 != null">
        #{workEnd2,jdbcType=TIMESTAMP},
      </if>
      <if test="workStart3 != null">
        #{workStart3,jdbcType=TIMESTAMP},
      </if>
      <if test="workEnd3 != null">
        #{workEnd3,jdbcType=TIMESTAMP},
      </if>
      <if test="workTime != null">
        #{workTime,jdbcType=TIME},
      </if>
      <if test="workBreakTime1 != null">
        #{workBreakTime1,jdbcType=TIME},
      </if>
      <if test="workBreakTime2 != null">
        #{workBreakTime2,jdbcType=TIME},
      </if>
      <if test="workBreakTime3 != null">
        #{workBreakTime3,jdbcType=TIME},
      </if>
      <if test="workOverTime != null">
        #{workOverTime,jdbcType=TIME},
      </if>
      <if test="workMidnightTime != null">
        #{workMidnightTime,jdbcType=TIME},
      </if>
      <if test="workHoliTime != null">
        #{workHoliTime,jdbcType=TIME},
      </if>
      <if test="workMidnightHoliTime != null">
        #{workMidnightHoliTime,jdbcType=TIME},
      </if>
      <if test="workSumHoliTime != null">
        #{workSumHoliTime,jdbcType=TIME},
      </if>
      <if test="workSumTime != null">
        #{workSumTime,jdbcType=TIME},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="sendReportFlg != null">
        #{sendReportFlg,jdbcType=CHAR},
      </if>
      <if test="workTcStart1 != null">
        #{workTcStart1,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcEnd1 != null">
        #{workTcEnd1,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcStart2 != null">
        #{workTcStart2,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcEnd2 != null">
        #{workTcEnd2,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcStart3 != null">
        #{workTcStart3,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcEnd3 != null">
        #{workTcEnd3,jdbcType=TIMESTAMP},
      </if>
      <if test="delFlg != null">
        #{delFlg,jdbcType=CHAR},
      </if>
      <if test="regAccount != null">
        #{regAccount,jdbcType=VARCHAR},
      </if>
      <if test="regTime != null">
        #{regTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updAccount != null">
        #{updAccount,jdbcType=VARCHAR},
      </if>
      <if test="updTime != null">
        #{updTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.demo.entity.AttendanceHistory">
    update t_attendance_history
    <set>
      <if test="workDateYm != null">
        work_date_ym = #{workDateYm,jdbcType=CHAR},
      </if>
      <if test="workDateWeek != null">
        work_date_week = #{workDateWeek,jdbcType=CHAR},
      </if>
      <if test="workKbn != null">
        work_kbn = #{workKbn,jdbcType=CHAR},
      </if>
      <if test="workStart1 != null">
        work_start1 = #{workStart1,jdbcType=TIMESTAMP},
      </if>
      <if test="workEnd1 != null">
        work_end1 = #{workEnd1,jdbcType=TIMESTAMP},
      </if>
      <if test="workStart2 != null">
        work_start2 = #{workStart2,jdbcType=TIMESTAMP},
      </if>
      <if test="workEnd2 != null">
        work_end2 = #{workEnd2,jdbcType=TIMESTAMP},
      </if>
      <if test="workStart3 != null">
        work_start3 = #{workStart3,jdbcType=TIMESTAMP},
      </if>
      <if test="workEnd3 != null">
        work_end3 = #{workEnd3,jdbcType=TIMESTAMP},
      </if>
      <if test="workTime != null">
        work_time = #{workTime,jdbcType=TIME},
      </if>
      <if test="workBreakTime1 != null">
        work_break_time1 = #{workBreakTime1,jdbcType=TIME},
      </if>
      <if test="workBreakTime2 != null">
        work_break_time2 = #{workBreakTime2,jdbcType=TIME},
      </if>
      <if test="workBreakTime3 != null">
        work_break_time3 = #{workBreakTime3,jdbcType=TIME},
      </if>
      <if test="workOverTime != null">
        work_over_time = #{workOverTime,jdbcType=TIME},
      </if>
      <if test="workMidnightTime != null">
        work_midnight_time = #{workMidnightTime,jdbcType=TIME},
      </if>
      <if test="workHoliTime != null">
        work_holi_time = #{workHoliTime,jdbcType=TIME},
      </if>
      <if test="workMidnightHoliTime != null">
        work_midnight_holi_time = #{workMidnightHoliTime,jdbcType=TIME},
      </if>
      <if test="workSumHoliTime != null">
        work_sum_holi_time = #{workSumHoliTime,jdbcType=TIME},
      </if>
      <if test="workSumTime != null">
        work_sum_time = #{workSumTime,jdbcType=TIME},
      </if>
      <if test="remark != null">
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="sendReportFlg != null">
        send_report_flg = #{sendReportFlg,jdbcType=CHAR},
      </if>
      <if test="workTcStart1 != null">
        work_tc_start1 = #{workTcStart1,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcEnd1 != null">
        work_tc_end1 = #{workTcEnd1,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcStart2 != null">
        work_tc_start2 = #{workTcStart2,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcEnd2 != null">
        work_tc_end2 = #{workTcEnd2,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcStart3 != null">
        work_tc_start3 = #{workTcStart3,jdbcType=TIMESTAMP},
      </if>
      <if test="workTcEnd3 != null">
        work_tc_end3 = #{workTcEnd3,jdbcType=TIMESTAMP},
      </if>
      <if test="delFlg != null">
        del_flg = #{delFlg,jdbcType=CHAR},
      </if>
      <if test="regAccount != null">
        reg_account = #{regAccount,jdbcType=VARCHAR},
      </if>
      <if test="regTime != null">
        reg_time = #{regTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updAccount != null">
        upd_account = #{updAccount,jdbcType=VARCHAR},
      </if>
      <if test="updTime != null">
        upd_time = #{updTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where company_code = #{companyCode,jdbcType=CHAR}
      and user_id = #{userId,jdbcType=VARCHAR}
      and history_no = #{historyNo,jdbcType=VARCHAR}
      and work_date = #{workDate,jdbcType=CHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.demo.entity.AttendanceHistory">
    update t_attendance_history
    set work_date_ym = #{workDateYm,jdbcType=CHAR},
      work_date_week = #{workDateWeek,jdbcType=CHAR},
      work_kbn = #{workKbn,jdbcType=CHAR},
      work_start1 = #{workStart1,jdbcType=TIMESTAMP},
      work_end1 = #{workEnd1,jdbcType=TIMESTAMP},
      work_start2 = #{workStart2,jdbcType=TIMESTAMP},
      work_end2 = #{workEnd2,jdbcType=TIMESTAMP},
      work_start3 = #{workStart3,jdbcType=TIMESTAMP},
      work_end3 = #{workEnd3,jdbcType=TIMESTAMP},
      work_time = #{workTime,jdbcType=TIME},
      work_break_time1 = #{workBreakTime1,jdbcType=TIME},
      work_break_time2 = #{workBreakTime2,jdbcType=TIME},
      work_break_time3 = #{workBreakTime3,jdbcType=TIME},
      work_over_time = #{workOverTime,jdbcType=TIME},
      work_midnight_time = #{workMidnightTime,jdbcType=TIME},
      work_holi_time = #{workHoliTime,jdbcType=TIME},
      work_midnight_holi_time = #{workMidnightHoliTime,jdbcType=TIME},
      work_sum_holi_time = #{workSumHoliTime,jdbcType=TIME},
      work_sum_time = #{workSumTime,jdbcType=TIME},
      remark = #{remark,jdbcType=VARCHAR},
      send_report_flg = #{sendReportFlg,jdbcType=CHAR},
      work_tc_start1 = #{workTcStart1,jdbcType=TIMESTAMP},
      work_tc_end1 = #{workTcEnd1,jdbcType=TIMESTAMP},
      work_tc_start2 = #{workTcStart2,jdbcType=TIMESTAMP},
      work_tc_end2 = #{workTcEnd2,jdbcType=TIMESTAMP},
      work_tc_start3 = #{workTcStart3,jdbcType=TIMESTAMP},
      work_tc_end3 = #{workTcEnd3,jdbcType=TIMESTAMP},
      del_flg = #{delFlg,jdbcType=CHAR},
      reg_account = #{regAccount,jdbcType=VARCHAR},
      reg_time = #{regTime,jdbcType=TIMESTAMP},
      upd_account = #{updAccount,jdbcType=VARCHAR},
      upd_time = #{updTime,jdbcType=TIMESTAMP}
    where company_code = #{companyCode,jdbcType=CHAR}
      and user_id = #{userId,jdbcType=VARCHAR}
      and history_no = #{historyNo,jdbcType=VARCHAR}
      and work_date = #{workDate,jdbcType=CHAR}
  </update>
  <select id="selectNo" parameterType="map" resultType="java.lang.String">
    select
      IFNULL(max(history_no),0)history_no
    from t_attendance_history
    where company_code = #{companyCode,jdbcType=CHAR}
    and user_id = #{userId,jdbcType=VARCHAR}
    and work_date = #{workDate,jdbcType=CHAR}
  </select>
</mapper>